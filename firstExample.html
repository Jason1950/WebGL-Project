<html>
  <head>
    <title>Ex4-Fragments</title>
    <link rel = "stylesheet" href = "Style.css">
    
    <script src="three.min.js"></script>
  </head>
  <body></body>
</html>
<script>
    let scene, camera, renderer;
    let cube;
    let sphere;
    let torus;
    let ADD = 0.01;
    
    let createCube = function(){
        let geometry = new THREE.BoxGeometry(4,4,4);
        let material = new THREE.MeshBasicMaterial({color:0xffffff});
        cube = new THREE.Mesh(geometry, material);
        scene.add(cube);
    };

    let createSphere = function(){
        let geometry = new THREE.SphereGeometry(5,30,3,0,Math.PI/2*3); 
                            // x,y,z : x-> radius, y-> horizntal segments, z-> vertical segments
                            // (x,y,z, phiStart, phiEnd, thetaStart, thetaEnd)
        let material = new THREE.MeshBasicMaterial({color:0xff01af,
                                                        wireframe:true});
        sphere = new THREE.Mesh(geometry, material);
        scene.add(sphere);
    };

    let createTorus = function(){
        let geometry = new THREE.TorusGeometry(5,1,20,5,2*Math.PI); 
                            // (rTorus, thickTorus, rSegment, tubularSegment, cyclic)
        let material = new THREE.MeshBasicMaterial({color:0x1122f5, wireframe:true});
        torus = new THREE.Mesh(geometry, material);
        scene.add(torus);
    };

    let init = function(){
        // create the scene
        scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000000);
        
        // create an locate thr camera
        camera = new THREE.PerspectiveCamera(
                            30, 
                            window.innerWidth / window.innerHeight,
                            1,
                            1000);
        camera.position.z = 50;

        

        
        //createSphere()
        //createCube()
        createTorus()

        // create the renderer
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);

        document.body.appendChild(renderer.domElement);
    };

    let mainLoop = function(){
        // console.log("Hello ");
        let roationSpeed = 3;

        // check is cube variable is null or exsit ?
        if (cube){
            cube.position.x += ADD;
            cube.rotation.z -= ADD*roationSpeed;
            cube.rotation.y -= ADD*roationSpeed;
            cube.rotation.x -= ADD*roationSpeed;
            if (cube.position.x <-3 || cube.position.x >3){
                ADD *= -1;
            };
        };
    
        // check is sphere variable is null or exsit ?
        if (sphere){
            sphere.rotation.y += ADD*roationSpeed/2;
        };

        // check is torus variable is null or exsit ?
        if (torus){
            torus.rotation.y += ADD*roationSpeed/2;
            //torus.rotation.x += ADD*roationSpeed/2;

        };

        let axes = new THREE.AxesHelper(10);
        scene.add(axes);
        

        renderer.render(scene, camera);
        requestAnimationFrame(mainLoop);
    };

    init();
    mainLoop();


</script>